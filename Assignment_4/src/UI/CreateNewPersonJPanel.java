/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package UI;

import Model.Person;
//import backup.Person_old;
import Model.PersonDirectory;
import Model.PieChartArray;
import Model.barChartAtrributes;
import java.awt.CardLayout;
import java.text.SimpleDateFormat;
import java.time.LocalDate;
import java.time.Period;
import java.time.format.DateTimeFormatter;
import java.util.Date;
import java.util.regex.Pattern;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

/**
 *
 * @author swapn
 */
public class CreateNewPersonJPanel extends javax.swing.JPanel {
    private JPanel bottom_panel;
    Person person;
    PersonDirectory PRD;
    PieChartArray PCA;
    barChartAtrributes bsa;
    boolean errorcode_DOB;
    Period Age;
    boolean personfound;
    boolean addNewCommunity;

    /**
     * Creates new form CreateNewPersonJPanel
     */
    public CreateNewPersonJPanel(JPanel bottom_panel, Person person, PersonDirectory PRD, PieChartArray PCA) {
        initComponents();
        this.person = new Person();
        this.bottom_panel = bottom_panel;
        this.PRD = PRD;
        this.PCA = PCA;
        this.bsa = bsa;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lbl_PersonalInfo_Title = new javax.swing.JLabel();
        lbl_Name = new javax.swing.JLabel();
        txt_LastName = new javax.swing.JTextField();
        txt_FirstName = new javax.swing.JTextField();
        lbl_FirstName = new javax.swing.JLabel();
        lbl_DOB = new javax.swing.JLabel();
        txt_DOB = new javax.swing.JTextField();
        lbl_Age = new javax.swing.JLabel();
        txt_Age = new javax.swing.JTextField();
        btn_Get_Age = new javax.swing.JButton();
        txt_Street_Name = new javax.swing.JTextField();
        lbl_Street_Name = new javax.swing.JLabel();
        lbl_ApartmentNo = new javax.swing.JLabel();
        txt_ApartmentNo = new javax.swing.JTextField();
        txt_City = new javax.swing.JTextField();
        lbl_City = new javax.swing.JLabel();
        lbl_State = new javax.swing.JLabel();
        drpdwn_State = new javax.swing.JComboBox<>();
        lbl_Zipcode = new javax.swing.JLabel();
        txt_Zipcode = new javax.swing.JTextField();
        lbl_Country = new javax.swing.JLabel();
        drpdwn_Country = new javax.swing.JComboBox<>();
        lbl_Addressinfo_Title = new javax.swing.JLabel();
        lbl_Address_Message1 = new javax.swing.JLabel();
        lbl_Address_Message2 = new javax.swing.JLabel();
        lbl_Save = new javax.swing.JButton();
        lbl_Save1 = new javax.swing.JButton();
        lbl_FirstName1 = new javax.swing.JLabel();
        txt_UniqueID = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();

        setBackground(new java.awt.Color(255, 255, 255));
        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_PersonalInfo_Title.setFont(new java.awt.Font("Calibri", 3, 18)); // NOI18N
        lbl_PersonalInfo_Title.setText("PERSONAL INFORMATION");
        add(lbl_PersonalInfo_Title, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 81, -1, -1));

        lbl_Name.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_Name.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lbl_Name.setText("Last Name : ");
        add(lbl_Name, new org.netbeans.lib.awtextra.AbsoluteConstraints(125, 144, -1, -1));

        txt_LastName.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_LastName.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txt_LastName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_LastNameActionPerformed(evt);
            }
        });
        add(txt_LastName, new org.netbeans.lib.awtextra.AbsoluteConstraints(202, 141, 195, -1));

        txt_FirstName.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_FirstName.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        add(txt_FirstName, new org.netbeans.lib.awtextra.AbsoluteConstraints(202, 180, 195, -1));

        lbl_FirstName.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_FirstName.setText("First Name ( Given Name ) : ");
        add(lbl_FirstName, new org.netbeans.lib.awtextra.AbsoluteConstraints(46, 183, -1, -1));

        lbl_DOB.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_DOB.setText("Date of Birth (MM/DD/YYYY) : ");
        add(lbl_DOB, new org.netbeans.lib.awtextra.AbsoluteConstraints(38, 223, -1, -1));

        txt_DOB.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_DOB.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txt_DOB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_DOBActionPerformed(evt);
            }
        });
        add(txt_DOB, new org.netbeans.lib.awtextra.AbsoluteConstraints(202, 220, 195, -1));

        lbl_Age.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_Age.setText("Age : ");
        add(lbl_Age, new org.netbeans.lib.awtextra.AbsoluteConstraints(157, 263, -1, -1));

        txt_Age.setEditable(false);
        txt_Age.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_Age.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txt_Age.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_AgeActionPerformed(evt);
            }
        });
        add(txt_Age, new org.netbeans.lib.awtextra.AbsoluteConstraints(202, 260, 42, -1));

        btn_Get_Age.setBackground(new java.awt.Color(204, 0, 0));
        btn_Get_Age.setFont(new java.awt.Font("Calibri", 2, 14)); // NOI18N
        btn_Get_Age.setForeground(new java.awt.Color(255, 255, 255));
        btn_Get_Age.setText("Get Age");
        btn_Get_Age.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Get_AgeActionPerformed(evt);
            }
        });
        add(btn_Get_Age, new org.netbeans.lib.awtextra.AbsoluteConstraints(318, 257, -1, -1));

        txt_Street_Name.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_Street_Name.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        add(txt_Street_Name, new org.netbeans.lib.awtextra.AbsoluteConstraints(199, 434, 190, -1));

        lbl_Street_Name.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_Street_Name.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_Street_Name.setText("Street Name :");
        lbl_Street_Name.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_Street_Name, new org.netbeans.lib.awtextra.AbsoluteConstraints(113, 437, -1, -1));

        lbl_ApartmentNo.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_ApartmentNo.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_ApartmentNo.setText("Apartment Number, Suite, etc. :");
        lbl_ApartmentNo.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_ApartmentNo, new org.netbeans.lib.awtextra.AbsoluteConstraints(23, 476, -1, -1));

        txt_ApartmentNo.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_ApartmentNo.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        add(txt_ApartmentNo, new org.netbeans.lib.awtextra.AbsoluteConstraints(199, 473, 190, -1));

        txt_City.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_City.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        add(txt_City, new org.netbeans.lib.awtextra.AbsoluteConstraints(199, 512, 190, -1));

        lbl_City.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_City.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_City.setText("City : ");
        lbl_City.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_City, new org.netbeans.lib.awtextra.AbsoluteConstraints(147, 515, -1, -1));

        lbl_State.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_State.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_State.setText("State : ");
        lbl_State.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_State, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 554, -1, -1));

        drpdwn_State.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        drpdwn_State.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select", "Other", "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia", "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland", "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming", " " }));
        drpdwn_State.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                drpdwn_StateActionPerformed(evt);
            }
        });
        add(drpdwn_State, new org.netbeans.lib.awtextra.AbsoluteConstraints(199, 551, 190, -1));

        lbl_Zipcode.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_Zipcode.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_Zipcode.setText("ZIP Code : ");
        lbl_Zipcode.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_Zipcode, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 593, -1, -1));

        txt_Zipcode.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_Zipcode.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        add(txt_Zipcode, new org.netbeans.lib.awtextra.AbsoluteConstraints(199, 590, 190, -1));

        lbl_Country.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_Country.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_Country.setText("Country :");
        lbl_Country.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_Country, new org.netbeans.lib.awtextra.AbsoluteConstraints(136, 634, -1, -1));

        drpdwn_Country.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select", "Other", "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria", "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic (CAR)", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo, Democratic Republic of the", "Congo, Republic of the", "Costa Rica", "Cote d'Ivoire", "Croatia", "Cuba", "Cyprus", "Czechia", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Eswatini", "Ethiopia", "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger", "Nigeria", "North Korea", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Palestine", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Korea", "South Sudan", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Timor-Leste", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates (UAE)", "United Kingdom (UK)", "United States of America (USA)", "Uruguay", "Uzbekistan", "Vanuatu", "Vatican City (Holy See)", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe" }));
        add(drpdwn_Country, new org.netbeans.lib.awtextra.AbsoluteConstraints(199, 629, 190, -1));

        lbl_Addressinfo_Title.setFont(new java.awt.Font("Calibri", 3, 18)); // NOI18N
        lbl_Addressinfo_Title.setText("ADDRESS INFORMATION");
        add(lbl_Addressinfo_Title, new org.netbeans.lib.awtextra.AbsoluteConstraints(147, 344, -1, -1));

        lbl_Address_Message1.setFont(new java.awt.Font("Calibri", 2, 14)); // NOI18N
        lbl_Address_Message1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_Address_Message1.setText("Please ensure that your Address is up to date.");
        lbl_Address_Message1.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_Address_Message1, new org.netbeans.lib.awtextra.AbsoluteConstraints(107, 374, -1, -1));

        lbl_Address_Message2.setFont(new java.awt.Font("Calibri", 2, 14)); // NOI18N
        lbl_Address_Message2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbl_Address_Message2.setText("This is where you are living right now. ");
        lbl_Address_Message2.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        add(lbl_Address_Message2, new org.netbeans.lib.awtextra.AbsoluteConstraints(127, 394, -1, -1));

        lbl_Save.setBackground(new java.awt.Color(204, 0, 0));
        lbl_Save.setFont(new java.awt.Font("Calibri", 2, 14)); // NOI18N
        lbl_Save.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Save.setText("Sign Up");
        lbl_Save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                lbl_SaveActionPerformed(evt);
            }
        });
        add(lbl_Save, new org.netbeans.lib.awtextra.AbsoluteConstraints(312, 667, -1, -1));

        lbl_Save1.setBackground(new java.awt.Color(204, 0, 0));
        lbl_Save1.setFont(new java.awt.Font("Calibri", 2, 14)); // NOI18N
        lbl_Save1.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Save1.setText("Back");
        lbl_Save1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                lbl_Save1ActionPerformed(evt);
            }
        });
        add(lbl_Save1, new org.netbeans.lib.awtextra.AbsoluteConstraints(46, 80, -1, -1));

        lbl_FirstName1.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        lbl_FirstName1.setText("Unique ID :  ");
        add(lbl_FirstName1, new org.netbeans.lib.awtextra.AbsoluteConstraints(125, 308, -1, -1));

        txt_UniqueID.setFont(new java.awt.Font("Calibri", 0, 12)); // NOI18N
        txt_UniqueID.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        add(txt_UniqueID, new org.netbeans.lib.awtextra.AbsoluteConstraints(202, 305, 195, -1));

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/UI/Wall post.gif"))); // NOI18N
        add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(530, 10, -1, -1));
    }// </editor-fold>//GEN-END:initComponents

    private void txt_LastNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_LastNameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_LastNameActionPerformed

    private void txt_DOBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_DOBActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_DOBActionPerformed

    private void btn_Get_AgeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Get_AgeActionPerformed
        // TODO add your handling code here:
        SimpleDateFormat formatter = new SimpleDateFormat("MM/dd/yyyy");
        Date Local_Date = new Date();

        //errorcode_DOB = Pattern.matches("0[1-9]|1[012]-0[1-9]|1[0-9]|2[0-9]|3[01]-[<2021]|[>1800]", txt_DOB.getText());
        errorcode_DOB = Pattern.matches("(0[1-9]|1[012])[/](0[1-9]|[12][0-9]|3[01])[/](19|20)\\d\\d", txt_DOB.getText());
        if (errorcode_DOB == false) {
            JOptionPane.showMessageDialog(this, "Invalid DOB Format");
        }

        LocalDate dob = LocalDate.parse(txt_DOB.getText(),
        DateTimeFormatter.ofPattern("MM/dd/yyyy"));
        LocalDate currentDate = LocalDate.now();
        Age = Period.between(dob, currentDate);
        txt_Age.setText(String.valueOf(Age.getYears()));
        btn_Get_Age.setVisible(false);
//        product.setAge(txt_Age.getText());
    }//GEN-LAST:event_btn_Get_AgeActionPerformed

    private void lbl_SaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_lbl_SaveActionPerformed
        // TODO add your handling code here
        JOptionPane message =new JOptionPane();
        int errorCode = check_validations();
        
        switch (errorCode) {
            case 1:
                message.showMessageDialog(this,
                        "Name cannot be empty and has to be only alphabets");
                break;
            case 2:
                message.showMessageDialog(this,
                        "Invalid DOB");
                break;
            case 3:
                message.showMessageDialog(this,
                        "Invalid ZipCode");
                break;
            default:
                personfound = false;
                System.out.println(personfound);
                check_ifpersonexists();
                if (personfound == true){
                    JOptionPane.showMessageDialog(this, "Person with this Unique ID already exists!");
                    break;
                }
                Person person = PRD.addNewPerson();
                person.setPersonLastName(txt_LastName.getText());
                person.setPersonFirstName(txt_FirstName.getText());
                person.setPersonDOB(txt_DOB.getText());
                person.setPersonAge(Integer.parseInt(txt_Age.getText()));
                person.setPersonUniqueID(txt_UniqueID.getText());
                person.setPersonStreetName(txt_Street_Name.getText());
                person.setPersonAptNo(txt_ApartmentNo.getText());
                person.setPersonCity(txt_City.getText());
                person.setPersonState(drpdwn_State.getSelectedItem().toString());
                person.setPersonZipCode(txt_Zipcode.getText());
                person.setPersonCountry(drpdwn_Country.getSelectedItem().toString());
                
                checkifCommunityExists();
                
                if (addNewCommunity == true){
                    barChartAtrributes bsa = PCA.addNewRow();
                    bsa.setNoofAbnormalCases(0);
                    bsa.setZipCode(txt_Zipcode.getText());
                }
                
                JOptionPane.showMessageDialog(this, "New Person added successfully.");
                
                txt_LastName.setText("");
                txt_FirstName.setText("");
                txt_DOB.setText("");
                txt_Age.setText("");
                txt_UniqueID.setText("");
                txt_Street_Name.setText("");
                txt_ApartmentNo.setText("");
                txt_City.setText("");
                txt_UniqueID.setText("");
//                drpdwn_State.setDropTarget(Select);
                txt_Zipcode.setText("");
                btn_Get_Age.setVisible(true);
        }
    }//GEN-LAST:event_lbl_SaveActionPerformed

    private void lbl_Save1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_lbl_Save1ActionPerformed
        // TODO add your handling code here:
        bottom_panel.remove(this);
        CardLayout layout = (CardLayout) bottom_panel.getLayout();
        layout.previous(bottom_panel);
    }//GEN-LAST:event_lbl_Save1ActionPerformed

    private void txt_AgeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_AgeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_AgeActionPerformed

    private void drpdwn_StateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_drpdwn_StateActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_drpdwn_StateActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_Get_Age;
    private javax.swing.JComboBox<String> drpdwn_Country;
    private javax.swing.JComboBox<String> drpdwn_State;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel lbl_Address_Message1;
    private javax.swing.JLabel lbl_Address_Message2;
    private javax.swing.JLabel lbl_Addressinfo_Title;
    private javax.swing.JLabel lbl_Age;
    private javax.swing.JLabel lbl_ApartmentNo;
    private javax.swing.JLabel lbl_City;
    private javax.swing.JLabel lbl_Country;
    private javax.swing.JLabel lbl_DOB;
    private javax.swing.JLabel lbl_FirstName;
    private javax.swing.JLabel lbl_FirstName1;
    private javax.swing.JLabel lbl_Name;
    private javax.swing.JLabel lbl_PersonalInfo_Title;
    private javax.swing.JButton lbl_Save;
    private javax.swing.JButton lbl_Save1;
    private javax.swing.JLabel lbl_State;
    private javax.swing.JLabel lbl_Street_Name;
    private javax.swing.JLabel lbl_Zipcode;
    private javax.swing.JTextField txt_Age;
    private javax.swing.JTextField txt_ApartmentNo;
    private javax.swing.JTextField txt_City;
    private javax.swing.JTextField txt_DOB;
    private javax.swing.JTextField txt_FirstName;
    private javax.swing.JTextField txt_LastName;
    private javax.swing.JTextField txt_Street_Name;
    private javax.swing.JTextField txt_UniqueID;
    private javax.swing.JTextField txt_Zipcode;
    // End of variables declaration//GEN-END:variables

    private int check_validations() {
        int errorCode=0;
        boolean errorcode_ZIPCode;
        errorcode_ZIPCode = Pattern.matches("\\d{5}",txt_Zipcode.getText());
        
        if(txt_LastName.getText().isEmpty() | 
                !Pattern.matches("[a-zA-Z]+",txt_LastName.getText())){
            errorCode=1;
        }else if(!txt_FirstName.getText().isEmpty() &
                !Pattern.matches("[a-zA-Z]+",txt_FirstName.getText())){
            errorCode= 1;
        }else if(txt_DOB.getText().isEmpty() |
                !Pattern.matches(
                        "(0[1-9]|1[012])\\/(0[1-9]|[12][0-9]|3[01])\\/([0-9]{4})$",
                        txt_DOB.getText())){
            errorCode= 2;
        }else if (errorcode_ZIPCode == false){
            errorCode = 3;
        }
        return errorCode;
    }

    private void check_ifpersonexists() {
//        personfound = false;
        for (Person pr: PRD.getPersonDirectory()){
            if (pr.getPersonUniqueID().equalsIgnoreCase(txt_UniqueID.getText())){
                personfound = true;
                System.out.println("inside loop" + personfound);
            } 
        }
    }

    private void checkifCommunityExists() {
        addNewCommunity = false;
        
        for (barChartAtrributes bsa : PCA.getPieChartList()){
            if (bsa.getZipCode() == txt_Zipcode.getText()){
                break;
            } else {
                addNewCommunity = true;
            }
        }
    }
}


